namespace: k-att-y70-dev

names:
  deployment: frontend-deployment
  service: frontend-service
  configmap: frontend-configmap
  secret: frontend-secret
  route: frontend-route  # ← AGREGADO
  networkpolicy: frontend-networkpolicy
  hpa: frontend-hpa

labels:
  app: frontend
  areanegocio: tecnologia

replicas: 1

image:
  repository: boriscutos/frontend
  tag: ""                 # se pasa por --set image.tag=build-123
  pullPolicy: Always

containerPort: 8080
servicePort: 8080

# ← NUEVO: Configuración de la Route
route:
  host: frontend-k-att-y70-dev.apps.rm2.thpm.p1.openshiftapps.com  # Hostname fijo para acceder

resources:
  requests:
    cpu: "250m"
    memory: "256Mi"
  limits:
    cpu: "500m"
    memory: "512Mi"

probes:
  # Nginx no tiene endpoints HTTP personalizados, usamos TCP
  liveness:
    port: 8080
    failureThreshold: 3
    initialDelaySeconds: 10
    periodSeconds: 10
  readiness:
    port: 8080
    failureThreshold: 3
    initialDelaySeconds: 5
    periodSeconds: 10

config:
  BACKEND_API_URL: "http://backend-api.k-att-y70-dev.svc.cluster.local:3000"

hpa:
  minReplicas: 1
  maxReplicas: 3
  cpuAverageUtilization: 80

# Secret para uso futuro
secret:
  PASSWORD_B64: "ZHVtbXk="  # "dummy" en base64 - placeholder para uso futuro